[{"content":"Hola un altre cop. Aquesta vegada faré un repàs del recorregut que ha tingut Godosters, des del seu origen fins ara.\nAquest contingut havia d\u0026rsquo;estar en el post anterior, però ja era prou llarg i no tan rellevant com per incloure’l.\nOrigen Des que vaig començar a aprendre a programar he tingut la idea de crear un projecte base per fer jocs a l’estil Pokémon. La inspiració ve de Pokémon Essentials, un projecte base fet amb RPG Maker XP, un programari molt antic. M’agradava la idea de fer el mateix però amb una base més moderna.\nÉs un projecte que vaig pensar fa molt temps, i la idea era fer un motor de jocs Pokémon pel meu treball de final de grau. Però al final vaig decidir reduir la càrrega i centrar-me només en un aspecte del motor. Així va néixer Elit3D, un editor de mapes per tiles en 3D.\nLa idea era anar ampliant el projecte fins a crear tota la base en C++, però des que vaig acabar la universitat he estat treballant a jornada completa i no he pogut dedicar gaire temps als meus projectes personals. He anat treballant de forma intermitent tant en Elit3D com en Godosters i altres projectes.\nEvolució Godosters no és un projecte que comencés directament amb Godot 4, sinó que ha tingut diversos predecessors.\nKip Engine Poc després de \u0026ldquo;finalitzar\u0026rdquo; Elit3D, vaig fer un fork privat i hi vaig afegir el mòdul de scripting en Lua del meu motor de videojocs. La idea era reprendre el concepte original d’Elit3D: un motor de jocs de monstres de butxaca en 2.5D, barrejant models 3D amb pixel art.\nHi vaig treballar uns mesos fins que, per falta de temps, el vaig deixar de banda. No vaig fer gran cosa: moviment bàsic del jugador, un parell d’NPCs i l’inici de la base de dades de tipus de Pokémon.\nPokémon Esmeralda Godot 3 La veritat és que el desenvolupament d’aquest projecte ha estat una muntanya russa. Vaig descartar l’ús de C++ per la seva complexitat i vaig decidir fer una prova amb Godot l’any 2022. Vaig començar amb Godot 3, ja que Godot 4 encara no havia sortit oficialment (si no recordo malament).\nLa idea era provar Godot per veure què podia oferir. Vaig passar un mes aprenent i desenvolupant un prototip de Pokémon Esmeralda. Vaig fer coses molt bàsiques: moviment del jugador, alguns NPCs i l’inici del sistema de diàleg. Es pot veure en aquest vídeo:\nKip Unity Framework Uns dies després vaig començar el que vaig anomenar Kip Unity Framework, un projecte de Unity per fer jocs de Pokémon. No recordo gaire bé per què vaig canviar de Godot a Unity, potser el vaig veure massa verd i vaig decidir aprofundir més en Unity i C#, que és el que feia servir diàriament.\nEn aquest projecte vaig avançar força. En principi el vaig començar per aprendre a fer shaders en Unity, i vaig anar afegint funcionalitats. Algunes de les coses que vaig fer:\nUn shader per renderitzar un fons infinit Un sistema de tiles temporals com petjades a la sorra Un shader que imita el reflex de l’aigua del Pokémon Esmeralda L’inici de la introducció amb totes les animacions i efectes Un sistema de scripting per nodes, amb el qual vaig fer la intro del professor Bedoll Si t’interessa, vaig penjar vídeos en aquesta llista de reproducció: Pokémon Emerald Unity per christt105\nHi vaig estar treballant de forma intermitent durant aproximadament un any, fins que el setembre del 2023 Unity va anunciar els nous canvis de tarifes. Com que ja havia sortit Godot 4, vaig decidir tornar a provar Godot.\nGodosters Ara sí, em vaig enamorar de Godot. Vaig crear un nou projecte amb Godot 4 i la idea ha estat replicar el que tenia en Kip Unity Framework mentre explorava el motor.\nVaig començar implementant el moviment del personatge. Estava (i estic) aprenent, així que hi ha moltes coses que he anat canviant i hauré de tornar a fer en el futur. La idea és fer tota la base en 2D i, gràcies a la flexibilitat de Godot, crear també una versió en 2.5D amb els mapes d’Elit3D (tot i que dubto que hi arribi, però aquesta és la idea).\nAquest és el primer vídeo que tinc del projecte Godosters:\nI això és tot per ara. Em venia de gust fer un repàs a la història del projecte, perquè a vegades sembla que no hem avançat gaire… però mirant enrere, hi ha hagut molts intents i molt d’aprenentatge.\nSi tens curiositat per les funcionalitats actuals del projecte, et recomano donar una ullada al post anterior, on explico amb més detall l’estat actual de Godosters.\nEns veiem a la pròxima entrada!\n","date":"2025-06-02T00:00:00+02:00","image":"https://christt105.github.io/blog/p/the-evolution-of-godosters/cover_hu_817c79d930d9516d.png","permalink":"https://christt105.github.io/blog/ca/p/levoluci%C3%B3-de-godosters/","title":"L'Evolució de Godosters"},{"content":"Hola! En aquesta entrada vull explicar breument l’estat actual del projecte en què he estat treballant: Godosters.\nDescripció Godosters és un motor per crear jocs estil Pokémon. És un projecte que vaig començar fa diversos anys i que ha anat canviant de tecnologia fins a quedar-se amb Godot 4. En el futur, escriuré una entrada explicant l’evolució i les decisions que em van portar a triar Godot.\nAra mateix és un projecte base a Godot amb algunes funcionalitats bàsiques, però l’objectiu és crear totes les eines necessàries perquè l’usuari no necessiti conèixer Godot per crear el seu joc.\nActualment és privat, però tan bon punt tingui alguna cosa estable, el faré públic. La idea és minimitzar les dependències i escriure-ho tot amb GDScript, o amb GDExtensions si realment és necessari.\nFuncionalitats actuals En aquest blog aniré escrivint un diari de desenvolupament on comentaré funcionalitats i canvis al projecte. Fem una ullada a les funcionalitats actuals. Si alguna t’interessa i vols saber com l’he fet, escriu-me als comentaris.\nUna petita demostració en vídeo de l’estat actual del projecte:\nShader de reflex a l’aigua Encara recordo la primera vegada que vaig arribar a Ciudad Petália i vaig veure el meu reflex al llac, al costat d’aquell nen. Era un efecte que pensava que seria fàcil de fer i per això el vaig triar com a primer. Em cridava l’atenció el món dels shaders, i he de dir que la simplicitat de Godot per escriure’ls em va sorprendre molt. És força semblant a GLSL. Vaig fer aquest shader d’aigua, al link teniu tots els detalls. Es pot activar per entitat, canviar-ne el color i ajustar-ne la posició. Per exemple, al vídeo es veu com el reflex del jugador i del Kecleon sota el pont està uns quants tiles més avall i amb un tint fosc.\nShader de fons infinit (Unmoving Plaid) Seguint amb shaders, en vaig fer un per al fons infinit (o “unmoving plaid”). La idea és que cada mapa tingui una mida fixa, cosa que ajuda a calcular límits i connectar àrees. El problema és que, quan arribes a la vora del mapa, es veu el fons si no s’ha omplert tot. Per evitar feina extra, vaig fer un shader que genera una imatge contínua al fons. Cada mapa podrà tenir la seva imatge de fons, i així no caldrà pintar fora dels límits.\nSistema de mapes Pel sistema de mapes, he optat per fer cada àrea com una escena que hereta d’una plantilla de mapa. Sé que l’herència d’escenes no és la millor opció segons es diu, però ara mateix està així. Cada mapa té alguns atributs — de moment només la mida del mapa en tiles i connexions a altres àrees.\nDins de cada escena de mapa hi ha un node TileMap on es dibuixa tot, tot i que encara no està actualitzat al nou sistema de tilemaps de Godot. He definit alguns valors de Z-index per controlar l’ordre de dibuix. Per exemple, els reflexos tenen un valor de -15.\nTambé hi ha un conjunt de TileMaps de comportament. Aquests assignen propietats a les caselles pintant amb diferents sprites: es pot bloquejar el moviment totalment o direccionalment, o assignar-hi un ID de tipus de tile, com si és aigua o si deixa petjades, etc. Un cop pintat, cal prémer un botó per aplicar-ho a la capa. Com que pot haver-hi múltiples TileMaps de comportament, es poden activar o desactivar durant el joc. Per exemple, al vídeo es veu un pont a la Ruta 120 que utilitza dos TileMaps de comportament: un bloqueja l’aigua quan ets a sobre del pont, i l’altre s’activa quan estàs a sota. Quan el jugador travessa el pont, es canvia el TileMap actiu. Encara és un sistema molt inicial i amb moltes millores pendents. L’objectiu és que tot això es pugui modificar des d’una eina pròpia, sense preocupar-se del que passa per dins.\nFinalment, hi ha una llista d’Actors o esdeveniments. Aquests són NPCs o objectes físics amb comportaments.\nActors Un actor és una entitat amb comportament. Se li pot assignar una textura, si té reflex, a quina capa està, si és sòlid, etc.\nEls actors tenen un camp on s’hi pot afegir un script de comportament. Cada objecte de comportament té funcions que es disparen segons com interactuem amb ell: si prems el botó d’acció davant, si hi entres a sobre, o si s’executa en bucle. Es poden afegir accions a una llista i aquestes s’executen en ordre. Hi ha diversos tipus d’accions, i es poden crear d’útils i reutilitzables. Ara mateix, tot es fa des de l’inspector i és molt rudimentari. En el futur m’agradaria fer un llenguatge senzill per definir-ho tot des d’un fitxer. També tinc la idea de fer-ho amb nodes, com vaig fer amb el Kip Unity Framework, que crec que pot anar molt bé per a qui no li agrada programar.\nSistema de combats No us enganyaré — el sistema de combats és el que menys ganes tinc de fer. Té tantes variables i és tan complex que requereix molt de temps per fer-lo decent. He fet un sistema molt bàsic que aniré ampliant segons calgui.\nHe pensat a utilitzar el motor de combats de Showdown per no haver de programar tota la lògica i garantir que funciona perfectament, però no estic segur que sigui possible. Ho hauré d’investigar.\nBase de dades M’agrada molt la gestió de dades, però també ha estat un dels motius pels quals vaig aturar el projecte durant un temps. Al Kip Unity Framework utilitzava ScriptableObjects per a cada Pokémon i per a cada característica de les espècies. Tenir-ho tot separat en assets m’agradava molt. El problema va ser intentar replicar això a Godot amb Resources — no és el mateix. Són una bona eina però no estan pensades per això. El principal problema són les referències circulars. És un tema molt parlat a la comunitat i hi ha moltes opinions. Durant el desenvolupament vaig veure que les futures versions tindrien .uid per a cada fitxer, i vaig pensar que potser això ho solucionaria. Ho he anat mirant de tant en tant, però encara no sé si continuar amb aquest sistema o canviar de model per a la base de dades.\nDemo Tot i que està trencat per molts llocs, intentaré treure una versió amb cada devlog per mostrar com avança el projecte. Tingues en compte que és una versió molt inicial, i que moltes funcionalitats no funcionen o només funcionen des de l’editor.\nDescarrega Linux Windows Versió: Godosters_v0.1.0 Futur La veritat és que no sé fins on arribarà aquest projecte. És un projecte personal sense ànim de lucre, així que hi treballo quan tinc temps i ganes. Estic molt content amb Godot, així que seguiré amb aquest motor. Unity ja no és l’eina adequada per als meus projectes personals per les seves polítiques i els riscos que implica. Fer-ho tot des de zero amb C++ seria massa feina i no em permetria avançar. Godot és el punt mig perfecte entre flexibilitat i la sensació que el projecte és realment meu.\nEncara he d’aprendre molt de Godot, però m’ho estic passant bé. Vull fer-ho tot sense llibreries externes i només amb GDScript. El projecte encara no és públic, així que el mantindré privat una mica més. Però si algun dia tinc alguna cosa estable i de la qual em senti orgullós, el publicaré.\nAquest últim any ha estat molt intens i no he pogut dedicar-li temps. Espero poder fer-ho ara, i que aquest blog em serveixi de motivació per seguir.\nFins aquí la primera entrada amb contingut. Tinc moltes coses a explicar i més projectes per compartir, així que intentaré ser més actiu.\nEns veiem a la pròxima actualització.\nAdéu!\n","date":"2025-05-26T00:00:00+02:00","image":"https://christt105.github.io/blog/p/godosters-devlog-0/cover_hu_ea4c08c3d1f0ab37.png","permalink":"https://christt105.github.io/blog/ca/p/godosters-devlog-0/","title":"Presentant Godosters – Devlog #0"},{"content":"Hola a tothom, benvinguts al meu blog.\nFa força temps que tinc la idea de fer un blog rondant pel cap. El meu objectiu principal és compartir els avenços que faig en els meus projectes, alguns dels quals encara no he fet públics. Tot i així, no descarto escriure articles sobre coses que vagi descobrint en el món de la tecnologia o, qui sap, potser em ve de gust parlar de pel·lícules, sèries i videojocs que vagi consumint.\nDesprés de pensar-hi una mica, m\u0026rsquo;he decidit a fer el blog amb Hugo. És el meu primer contacte amb aquesta plataforma, així que veurem com funciona. He utilitzat el tema Stack, que podeu trobar referenciat al peu de pàgina, tot i que l\u0026rsquo;he modificat una mica per donar-li un aspecte més semblant a la meva web personal. També he deixat el mode clar per a aquella part de la societat que ho prefereix.\nLa idea és que tots els articles estiguin disponibles en els tres idiomes que parlo: castellà, català i anglès. A veure si no resulta massa complicat mantenir el blog en els tres idiomes.\nEls comentaris estan completament oberts per a qualsevol persona que vulgui parlar de qualsevol tema.\nImatge per kang a Twitter\n","date":"2024-11-04T19:33:08+01:00","image":"https://christt105.github.io/blog/p/hello-world/cover_hu_a9b0f91f1a65a05a.png","permalink":"https://christt105.github.io/blog/ca/p/hello-world/","title":"Hello World!"}]